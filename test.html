<!DOCTYPE html>
<html lang="en">
<head>

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" type="text/css" href="MainFrameLook.css">

    <meta charset="UTF-8">

    <title>Test Page</title>

</head>
<body>

<script>


    function list(){
        fetch("https://codecyprus.org/th/test-api/list?number-of-ths=2")
            .then(response => response.json()) //Parse JSON text to JavaScript object
            .then(jsonObject => {


                let TreasureHuntsOBJECT = jsonObject.treasureHunts;//different names
                console.log(TreasureHuntsOBJECT);

            });
    }






    function start(){
        let Start_Api= "https://codecyprus.org/th/test-api/start?player=";
        let arr=["inactive","empty","player","app","unknown","missing_parameter", ""];

        for(let i = 0; i<=6;i++){

            fetch(Start_Api+arr[i])
                .then(response => response.json()) //Parse JSON text to JavaScript object
                .then(jsonObject => {


                    let Session = jsonObject.status;
                    if(Session ==="ERROR"){                         //mistake check
                        console.log(jsonObject.errorMessages[0]);}
                    else{
                        console.log(jsonObject);   //Ok!
                    }
                });
        }
    }










    function question () {
        const  Questions_Api = "https://codecyprus.org/th/test-api/question?";
        let All=["question-type=BOOLEAN", "question-type=MCQ", "question-type=INTEGER", "question-type=NUMERIC","question-type=TEXT",
            "question-type=BOOLEAN&can-be-skipped", "question-type=MCQ&can-be-skipped", "question-type=INTEGER&can-be-skipped", "question-type=NUMERIC&can-be-skipped","question-type=TEXT&can-be-skipped",
            "question-type=BOOLEAN&requires-location", "question-type=MCQ&requires-location", "question-type=INTEGER&requires-location", "question-type=NUMERIC&requires-location","question-type=TEXT&requires-location",
            "question-type=BOOLEAN&can-be-skipped&requires-location", "question-type=MCQ&can-be-skipped&requires-location", "question-type=INTEGER&can-be-skipped&requires-location", "question-type=NUMERIC&can-be-skipped&requires-location","question-type=TEXT&can-be-skipped&requires-location",
            "completed&question-type=BOOLEAN", "completed&question-type=MCQ", "completed&question-type=INTEGER", "completed&question-type=NUMERIC","completed&question-type=TEXT",
            "completed&question-type=BOOLEAN&can-be-skipped", "completed&question-type=MCQ&can-be-skipped", "completed&question-type=INTEGER&can-be-skipped", "completed&question-type=NUMERIC&can-be-skipped","completed&question-type=TEXT&can-be-skipped",
            "completed&question-type=BOOLEAN&requires-location", "completed&question-type=MCQ&requires-location", "completed&question-type=INTEGER&requires-location", "completed&question-type=NUMERIC&requires-location","completed&question-type=TEXT&requires-location",
            "completed&question-type=BOOLEAN&can-be-skipped&requires-location", "completed&question-type=MCQ&can-be-skipped&requires-location", "completed&question-type=INTEGER&can-be-skipped&requires-location", "completed&question-type=NUMERIC&can-be-skipped&requires-location","completed&question-type=TEXT&can-be-skipped&requires-location"];

        for (let i = 0;i < All.length;i++){
        fetch( Questions_Api+All[i] )
            .then(response => response.json()) //Parse JSON text to JavaScript object
            .then(jsonObject => {

                console.log(jsonObject);
                let  CheckIfFinished = jsonObject.completed;

                let QuestionNames = jsonObject.questionText;

                let  CheckQuestion = jsonObject.questionType;

                CheckLocation = jsonObject.requiresLocation;

                CheckForSkip = jsonObject.canBeSkipped;




                if (CheckQuestion === "INTEGER")
                {


                    console.log("INTEGER");


                }

                if (CheckQuestion === "BOOLEAN")
                {


                    console.log("BOOLEAN");



                }
                if (CheckQuestion === "MCQ")
                {
                    console.log("MCQ");

                }

                if (CheckQuestion === "TEXT")
                {

                    console.log("TEXT");



                }

                if (CheckQuestion === "NUMERIC")
                {


                    console.log("NUMERIC");


                }
                if (CheckIfFinished === true ){

                   console.log("Move to LeaderBoard(Finish)")



                }
                if (CheckLocation === true) {


                    console.log('NeedLOcation');

                }
                if (CheckLocation === false) {

                    console.log('NO NeedLOcation');

                }

                if (CheckForSkip === true){

                    console.log("CanbeSkiped");
                }else {
                    console.log("CanNotbeSkiped");
                }


                console.log("Loop");

            });


    }}














    function answer(){
        const  Answers_Api = "https://codecyprus.org/th/test-api/answer?";
        let Array=["correct&completed=false","correct&completed=true","completed=false", "completed=true"];

        for(let i =0;i<Array.length;i++){
        fetch( Answers_Api+Array[i] )
        .then(response => response.json()) //Parse JSON text to JavaScript object
        .then(jsonObject => {

            console.log(jsonObject);
        })
        }
    }












    function score(){
        let Array=["score=42","finished&score=42","completed&score=42","completed&finished&score=42", "error" ];
        for(let i =0;i<Array.length;i++){
        fetch("https://codecyprus.org/th/test-api/score?"+ Array[i])
            .then(response => response.json()) //Parse JSON text to JavaScript object
            .then(jsonObject => {

if (jsonObject.status==="OK") {


    console.log(jsonObject);
}
else{
    console.log(jsonObject.errorMessages);

}

            })
        }
    }












    function leaderboard(){
        fetch("https://codecyprus.org/th/test-api/leaderboard?sorted&hasPrize&size=42")
            .then(response => response.json()) //Parse JSON text to JavaScript object
            .then(jsonObject => {




                console.log( jsonObject);






            });
    }







</script>

<header>
<h1>TestPage</h1>
</header>


<main>


<p>/th/test-api/list</p>
<p>/th/test-api/start</p>







<h1>TeamNotes</h1>



    <p>We are:</p>
<ul>
    <li>-Andrew Bilyk</li>

    <li>-Vasily Ivanov</li>
</ul>
    <br/>

<h2>Meeting 1</h2>
<p>Decide how the application should looks like.
    This is the end of the first meeting.</p>

    <br/>

    <h2> Meeting 2</h2>
<p>Decide how each element of the program should work.
    This is the end of the second meeting.</p>

    <br/>

    <h2>Meeting 3</h2>


<p>Devide a work... Andrew Bilyk create /th/api/list call. Vasily Ivanov create a prototype of  /th/api/leaderboard call.
    This is the end of the meeting 3.</p>

    <br/>


    <h2>Meeting 4</h2>

<p>Work a few hours together to achieve a good work of /th/api/question call. This is the end of the meeting 4.</p>

    <br/>


    <h2>Meeting 5</h2>
<p>Build all functions together. This is the end of the meeting 5.</p>

    <br/>


    <h2>Meeting 6</h2>
<p>Andrew Bilyk add to the app the /th/api/score call and /th/api/skip call. This is the end of the meeting 6.</p>

    <br/>

    <h2>Meeting 7</h2>
<p>Andrew Bilyk add to the app the /th/api/location call.This is the end of the meeting 7.</p>

    <br/>


    <h2>Meeting 8</h2>
<p>Vasily Ivanov create a clear Notes page. Vasily Ivanov and Andrew Bilyk build every thing together. This is the end of the meeting 8.</p>

    <br/>

    <h2>Meeting 9</h2>
<p>Vasily Ivanov create a QR code function.This is the end of the meeting 9.</p>

    <br/>


</main>
</body>
</html>